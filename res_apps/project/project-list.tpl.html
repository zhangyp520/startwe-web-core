<oui-view id="project-list"
          data="com.startwe.models.project.web.ProjectController4List.getData()"
          class="container oui-class-ouiview">
</oui-view>
<script id="project-list-tpl" type="text/html" charset="utf-8">
    <div class="row" oui-controller="com.startwe.models.project.web.ProjectController4List">
        <div class="col-sm-8 col-lg-12">
            <div class="pg-block">
                <div class="pg-block-header">
                    {{include 'menu-path-tpl' ({menuId:'project-list'})}}
                </div>
                <div class="pg-block-header">
                    <a href="#" oui-e-click="event2create">创建项目</a>
                </div>
                <div class="pg-block-cont">
                    <ul class="pg-list-group rmd-article-list">
                        {{include 'projects-data-tpl'}}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/html" charset="utf-8" id="projects-data-tpl">
    {{if (!projects) ||(!projects.length)}}
    <li class="pg-list-item">
        <div class="row">
            <div class="col-sm-8 col-md-9">
                当前还没有项目
            </div>

        </div>
    </li>
    {{/if}}
    {{each projects as item index}}
    <li class="pg-list-item">
        <div class="pg-list-link">
            <div class="row">
                <div class="col-sm-8 col-md-9">
                    <h3 class="article-title" project-id="{{item.id}}" project-load-url="{{item.extraAttrs.loadUrl}}" oui-e-{{clickName}}="event2edit"><a href="#">{{item.name}}({{item.enName}})</a></h3>
                    <div class="article-attr">
                        <object>
                            <a href="#">{{item.creatorName}}</a>
                            <em>·</em>
                            <span>{{item.createTime}}</span>
                        </object>

                    </div>
                    <div class="article-count">
                        <ul>
                            <li>
                                <span project-id="{{item.id}}" design-path="{{item.extraAttrs.loadProjectUrl}}" oui-e-{{clickName}}="event2design" ><a href="#">设计项目</a></span>
                            </li>
                            <li>
                                <span project-id="{{item.id}}" project-portal-path="{{item.extraAttrs.projectPortalUrl}}" oui-e-{{clickName}}="event2projectPortal" ><a href="#">访问项目</a></span>
                            </li>
                            <li class="pg-list-item-del show-xs" project-remove-url="{{item.extraAttrs.removeProjectUrl}}"  project-id="{{item.id}}" oui-e-{{clickName}}="event2remove">
                                <i></i>
                                <span><a href="#">删除项目</a></span>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-sm-4 col-md-3 text-right hidden-xs">
                    <img src="/res_apps/common/image/img-default.png" data-src="{{item.projectLogo}}" alt="" class="pg-item-thumb">
                </div>
            </div>
        </div>
    </li>
    {{/each}}
</script>
